import"./VRow-C7L0s5NK.js";import{c as q}from"./VAvatar-BnXmNYTE.js";import{u as G,f as J,m as Q,V as F}from"./forwardRefs-DdXr6tAt.js";import{g as R,p as U,k as I,N as p,S as X,a8 as z,R as L,U as Z,d as N,a9 as ee,L as V,e as l,K as M,aa as te,l as D,ab as ae,T as le,Y as ne,ac as oe,j as se,ad as ie,ae as re}from"./index-x0uWx8_N.js";import{h as ce,u as ue,V as T,i as _,j as de,b as fe}from"./VSelect-DAPLtHuN.js";const we=q("v-spacer","div","VSpacer"),ve=U({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Q({origin:"center center",scrollStrategy:"block",transition:{component:ce},zIndex:2400})},"VDialog"),ye=R()({name:"VDialog",props:ve(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,y){let{emit:b,slots:t}=y;const i=I(e,"modelValue"),{scopeId:u}=G(),n=p();function g(a){var r,f;const s=a.relatedTarget,d=a.target;if(s!==d&&((r=n.value)!=null&&r.contentEl)&&((f=n.value)!=null&&f.globalTop)&&![document,n.value.contentEl].includes(d)&&!n.value.contentEl.contains(d)){const o=ee(n.value.contentEl);if(!o.length)return;const v=o[0],m=o[o.length-1];s===v?m.focus():v.focus()}}X(()=>{document.removeEventListener("focusin",g)}),z&&L(()=>i.value&&e.retainFocus,a=>{a?document.addEventListener("focusin",g):document.removeEventListener("focusin",g)},{immediate:!0});function P(){var a;b("afterEnter"),(a=n.value)!=null&&a.contentEl&&!n.value.contentEl.contains(document.activeElement)&&n.value.contentEl.focus({preventScroll:!0})}function S(){b("afterLeave")}return L(i,async a=>{var s;a||(await Z(),(s=n.value.activatorEl)==null||s.focus({preventScroll:!0}))}),N(()=>{const a=F.filterProps(e),s=V({"aria-haspopup":"dialog"},e.activatorProps),d=V({tabindex:-1},e.contentProps);return l(F,V({ref:n,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},a,{modelValue:i.value,"onUpdate:modelValue":r=>i.value=r,"aria-modal":"true",activatorProps:s,contentProps:d,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:P,onAfterLeave:S},u),{activator:t.activator,default:function(){for(var r=arguments.length,f=new Array(r),o=0;o<r;o++)f[o]=arguments[o];return l(M,{root:"VDialog"},{default:()=>{var v;return[(v=t.default)==null?void 0:v.call(t,...f)]}})}})}),J({},n)}}),me=U({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...fe(),...de()},"VSwitch"),Pe=R()({name:"VSwitch",inheritAttrs:!1,props:me(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,y){let{attrs:b,slots:t}=y;const i=I(e,"indeterminate"),u=I(e,"modelValue"),{loaderClasses:n}=te(e),{isFocused:g,focus:P,blur:S}=ue(e),a=p(),s=z&&window.matchMedia("(forced-colors: active)").matches,d=D(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),r=ae(),f=D(()=>e.id||`switch-${r}`);function o(){i.value&&(i.value=!1)}function v(m){var k,w;m.stopPropagation(),m.preventDefault(),(w=(k=a.value)==null?void 0:k.input)==null||w.click()}return N(()=>{const[m,k]=le(b),w=T.filterProps(e),O=_.filterProps(e);return l(T,V({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":i.value},n.value,e.class]},m,w,{modelValue:u.value,"onUpdate:modelValue":E=>u.value=E,id:f.value,focused:g.value,style:e.style}),{...t,default:E=>{let{id:W,messagesId:j,isDisabled:H,isReadonly:K,isValid:B}=E;const C={model:u,isValid:B};return l(_,V({ref:a},O,{modelValue:u.value,"onUpdate:modelValue":[h=>u.value=h,o],id:W.value,"aria-describedby":j.value,type:"checkbox","aria-checked":i.value?"mixed":void 0,disabled:H.value,readonly:K.value,onFocus:P,onBlur:S},k),{...t,default:h=>{let{backgroundColorClasses:x,backgroundColorStyles:c}=h;return l("div",{class:["v-switch__track",s?void 0:x.value],style:c.value,onClick:v},[t["track-true"]&&l("div",{key:"prepend",class:"v-switch__track-true"},[t["track-true"](C)]),t["track-false"]&&l("div",{key:"append",class:"v-switch__track-false"},[t["track-false"](C)])])},input:h=>{let{inputNode:x,icon:c,backgroundColorClasses:Y,backgroundColorStyles:$}=h;return l(ne,null,[x,l("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":c||e.loading},e.inset||s?void 0:Y.value],style:e.inset?void 0:$.value},[t.thumb?l(M,{defaults:{VIcon:{icon:c,size:"x-small"}}},{default:()=>[t.thumb({...C,icon:c})]}):l(oe,null,{default:()=>[e.loading?l(ie,{name:"v-switch",active:!0,color:B.value===!1?void 0:d.value},{default:A=>t.loader?t.loader(A):l(re,{active:A.isActive,color:A.color,indeterminate:!0,size:"16",width:"2"},null)}):c&&l(se,{key:String(c),icon:c,size:"x-small"},null)]})])])}})}})}),{}}});export{ye as V,we as a,Pe as b};
