import{g as _e,p as ea,k as aa,l as U,n as ua,q as da,r as ma,c as va,s as ca,t as fa,v as pa,x as ya,y as ba,z as ga,A as xa,e as a,B as Fa,C as $a,m as Va,D as Ca,E as wa,F as Ma,G as ka,a as Sa,H as Ta,b as Aa,I as Ra,J as za,j as p,K as he,V as R,L as A,M as Da,N as C,O as Ba,P as Pa,Q as la,R as be,S as ja,d as Ia,T as La,U as Je,W as Ua,X as Ea,Y as ge,Z as Qe,_ as qa,$ as Na,a0 as Ha,a1 as M,w as l,a2 as Wa,o as b,h as i,i as n,a3 as Oa,a4 as m,f as Q,a5 as T,a6 as Ge,a7 as Ie}from"./index-x0uWx8_N.js";import{u as Ja}from"./app-CQto9ei9.js";import{_ as Ga,V as B,c as Se,a as I,d as Le,b as le}from"./VCard-BwZTtDha.js";import{V as Ue,a as me,b as Ee}from"./VSwitch-DYBhyaiv.js";import{V as P}from"./VTooltip-CsjF_WRv.js";import{V as Ye,a as X,b as Ve,c as Ce,d as qe}from"./VList-Dtj1b0B-.js";import{u as Ya,V as Xe,a as Ke,m as Za,b as ha,c as Qa,d as Te,e as K,f as L,g as Ne}from"./VSelect-DAPLtHuN.js";import{V as Xa}from"./VForm-Y8zpW2jJ.js";import{V as H,a as x}from"./VRow-C7L0s5NK.js";import{V as ye}from"./VSlider-Y_Ro81Gi.js";import{c as Ka}from"./VAvatar-BnXmNYTE.js";import{V as Ze}from"./VTable-CzFoqyF_.js";import{f as _a}from"./forwardRefs-DdXr6tAt.js";const el=Ka("v-alert-title"),al=["success","info","warning","error"],ll=ea({border:{type:[Boolean,String],validator:u=>typeof u=="boolean"||["top","end","bottom","start"].includes(u)},borderColor:String,closable:Boolean,closeIcon:{type:Ra,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:u=>al.includes(u)},...Aa(),...Ta(),...Sa(),...ka(),...Ma(),...wa(),...Ca(),...Va(),...$a(),...Fa({variant:"flat"})},"VAlert"),He=_e()({name:"VAlert",props:ll(),emits:{"click:close":u=>!0,"update:modelValue":u=>!0},setup(u,g){let{emit:ve,slots:o}=g;const z=aa(u,"modelValue"),k=U(()=>{if(u.icon!==!1)return u.type?u.icon??`$${u.type}`:u.icon}),W=U(()=>({color:u.color??u.type,variant:u.variant})),{themeClasses:ie}=ua(u),{colorClasses:Y,colorStyles:te,variantClasses:ne}=da(W),{densityClasses:w}=ma(u),{dimensionStyles:oe}=va(u),{elevationClasses:Z}=ca(u),{locationStyles:re}=fa(u),{positionClasses:y}=pa(u),{roundedClasses:v}=ya(u),{textColorClasses:c,textColorStyles:$}=ba(ga(u,"borderColor")),{t:S}=xa(),_=U(()=>({"aria-label":S(u.closeLabel),onClick(E){z.value=!1,ve("click:close",E)}}));return()=>{const E=!!(o.prepend||k.value),ee=!!(o.title||u.title),se=!!(o.close||u.closable);return z.value&&a(u.tag,{class:["v-alert",u.border&&{"v-alert--border":!!u.border,[`v-alert--border-${u.border===!0?"start":u.border}`]:!0},{"v-alert--prominent":u.prominent},ie.value,Y.value,w.value,Z.value,y.value,v.value,ne.value,u.class],style:[te.value,oe.value,re.value,u.style],role:"alert"},{default:()=>{var h,O;return[za(!1,"v-alert"),u.border&&a("div",{key:"border",class:["v-alert__border",c.value],style:$.value},null),E&&a("div",{key:"prepend",class:"v-alert__prepend"},[o.prepend?a(he,{key:"prepend-defaults",disabled:!k.value,defaults:{VIcon:{density:u.density,icon:k.value,size:u.prominent?44:28}}},o.prepend):a(p,{key:"prepend-icon",density:u.density,icon:k.value,size:u.prominent?44:28},null)]),a("div",{class:"v-alert__content"},[ee&&a(el,{key:"title"},{default:()=>{var D;return[((D=o.title)==null?void 0:D.call(o))??u.title]}}),((h=o.text)==null?void 0:h.call(o))??u.text,(O=o.default)==null?void 0:O.call(o)]),o.append&&a("div",{key:"append",class:"v-alert__append"},[o.append()]),se&&a("div",{key:"close",class:"v-alert__close"},[o.close?a(he,{key:"close-defaults",defaults:{VBtn:{icon:u.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var D;return[(D=o.close)==null?void 0:D.call(o,{props:_.value})]}}):a(R,A({key:"close-btn",icon:u.closeIcon,size:"x-small",variant:"text"},_.value),null)])]}})}}}),tl=ea({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:u=>!isNaN(parseFloat(u))},maxRows:{type:[Number,String],validator:u=>!isNaN(parseFloat(u))},suffix:String,modelModifiers:Object,...ha(),...Za()},"VTextarea"),nl=_e()({name:"VTextarea",directives:{Intersect:Da},inheritAttrs:!1,props:tl(),emits:{"click:control":u=>!0,"mousedown:control":u=>!0,"update:focused":u=>!0,"update:modelValue":u=>!0},setup(u,g){let{attrs:ve,emit:o,slots:z}=g;const k=aa(u,"modelValue"),{isFocused:W,focus:ie,blur:Y}=Ya(u),te=U(()=>typeof u.counterValue=="function"?u.counterValue(k.value):(k.value||"").toString().length),ne=U(()=>{if(ve.maxlength)return ve.maxlength;if(!(!u.counter||typeof u.counter!="number"&&typeof u.counter!="string"))return u.counter});function w(f,q){var j,J;!u.autofocus||!f||(J=(j=q[0].target)==null?void 0:j.focus)==null||J.call(j)}const oe=C(),Z=C(),re=Ba(""),y=C(),v=U(()=>u.persistentPlaceholder||W.value||u.active);function c(){var f;y.value!==document.activeElement&&((f=y.value)==null||f.focus()),W.value||ie()}function $(f){c(),o("click:control",f)}function S(f){o("mousedown:control",f)}function _(f){f.stopPropagation(),c(),Je(()=>{k.value="",Ha(u["onClick:clear"],f)})}function E(f){var j;const q=f.target;if(k.value=q.value,(j=u.modelModifiers)!=null&&j.trim){const J=[q.selectionStart,q.selectionEnd];Je(()=>{q.selectionStart=J[0],q.selectionEnd=J[1]})}}const ee=C(),se=C(Number(u.rows)),h=U(()=>["plain","underlined"].includes(u.variant));Pa(()=>{u.autoGrow||(se.value=Number(u.rows))});function O(){u.autoGrow&&Je(()=>{if(!ee.value||!Z.value)return;const f=getComputedStyle(ee.value),q=getComputedStyle(Z.value.$el),j=parseFloat(f.getPropertyValue("--v-field-padding-top"))+parseFloat(f.getPropertyValue("--v-input-padding-top"))+parseFloat(f.getPropertyValue("--v-field-padding-bottom")),J=ee.value.scrollHeight,ce=parseFloat(f.lineHeight),we=Math.max(parseFloat(u.rows)*ce+j,parseFloat(q.getPropertyValue("--v-input-control-height"))),V=parseFloat(u.maxRows)*ce+j||1/0,ae=Ea(J??0,we,V);se.value=Math.floor((ae-j)/ce),re.value=Ua(ae)})}la(O),be(k,O),be(()=>u.rows,O),be(()=>u.maxRows,O),be(()=>u.density,O);let D;return be(ee,f=>{f?(D=new ResizeObserver(O),D.observe(ee.value)):D==null||D.disconnect()}),ja(()=>{D==null||D.disconnect()}),Ia(()=>{const f=!!(z.counter||u.counter||u.counterValue),q=!!(f||z.details),[j,J]=La(ve),{modelValue:ce,...we}=Xe.filterProps(u),V=Ke.filterProps(u);return a(Xe,A({ref:oe,modelValue:k.value,"onUpdate:modelValue":ae=>k.value=ae,class:["v-textarea v-text-field",{"v-textarea--prefixed":u.prefix,"v-textarea--suffixed":u.suffix,"v-text-field--prefixed":u.prefix,"v-text-field--suffixed":u.suffix,"v-textarea--auto-grow":u.autoGrow,"v-textarea--no-resize":u.noResize||u.autoGrow,"v-input--plain-underlined":h.value},u.class],style:u.style},j,we,{centerAffix:se.value===1&&!h.value,focused:W.value}),{...z,default:ae=>{let{id:xe,isDisabled:fe,isDirty:Ae,isReadonly:Re,isValid:We}=ae;return a(Ke,A({ref:Z,style:{"--v-textarea-control-height":re.value},onClick:$,onMousedown:S,"onClick:clear":_,"onClick:prependInner":u["onClick:prependInner"],"onClick:appendInner":u["onClick:appendInner"]},V,{id:xe.value,active:v.value||Ae.value,centerAffix:se.value===1&&!h.value,dirty:Ae.value||u.dirty,disabled:fe.value,focused:W.value,error:We.value===!1}),{...z,default:ze=>{let{props:{class:De,...Be}}=ze;return a(ge,null,[u.prefix&&a("span",{class:"v-text-field__prefix"},[u.prefix]),Qe(a("textarea",A({ref:y,class:De,value:k.value,onInput:E,autofocus:u.autofocus,readonly:Re.value,disabled:fe.value,placeholder:u.placeholder,rows:u.rows,name:u.name,onFocus:c,onBlur:Y},Be,J),null),[[qa("intersect"),{handler:w},null,{once:!0}]]),u.autoGrow&&Qe(a("textarea",{class:[De,"v-textarea__sizer"],id:`${Be.id}-sizer`,"onUpdate:modelValue":Oe=>k.value=Oe,ref:ee,readonly:!0,"aria-hidden":"true"},null),[[Na,k.value]]),u.suffix&&a("span",{class:"v-text-field__suffix"},[u.suffix])])}})},details:q?ae=>{var xe;return a(ge,null,[(xe=z.details)==null?void 0:xe.call(z,ae),f&&a(ge,null,[a("span",null,null),a(Qa,{active:u.persistentCounter||W.value,value:te.value,max:ne.value,disabled:u.disabled},z.counter)])])}:void 0})}),_a({},oe,Z,y)}}),ol={class:"admin-page"},rl={class:"text-caption text-grey"},il={class:"d-flex align-center"},sl={class:"text-body-2 mr-2"},ul={class:"d-flex align-center"},dl={class:"text-body-2 mr-2"},ml={key:0},vl={class:"d-flex flex-column align-center justify-center"},cl={class:"d-flex flex-column align-center justify-center"},fl={class:"d-flex flex-column align-center justify-center"},pl={class:"d-flex flex-column align-center justify-center"},yl={key:0},bl={class:"d-flex align-center mb-3 mt-3"},gl={class:"text-caption"},xl={key:0},Fl={class:"d-flex align-center mb-3 mt-3"},$l={class:"text-caption"},Vl={key:0},Cl={key:0},wl={key:1},Ml={key:0,class:"text-primary-darken-1"},kl={key:1},Sl={key:0,class:"text-primary-darken-1"},Tl={key:1,class:"text-grey"},Al={class:"text-primary font-weight-bold"},Rl={class:"d-flex align-center mb-1"},zl={class:"d-flex align-center mb-1"},Dl={class:"d-flex align-center mb-1"},Bl={class:"d-flex align-center"},Pl={class:"d-flex align-center mb-1"},jl={class:"d-flex align-center"},Il={class:"d-flex align-center mb-1"},Ll={class:"d-flex align-center"},Ul={class:"text-caption mt-3 mb-4"},El={key:0},ql={class:"d-flex align-center mb-4"},Nl={class:"d-flex align-center mb-2"},Hl={key:0,class:"text-grey"},Wl={key:0,class:"text-grey"},Ol={key:0,class:"text-grey"},Jl={style:{width:"80px"},class:"d-flex align-center"},Gl={class:"text-right"},Yl={class:"d-flex align-center",style:{"min-width":"100px"}},Zl={key:0,class:"text-grey"},hl={key:0,class:"text-grey"},Ql={key:0,class:"text-grey"},Xl={__name:"admin",setup(u){const g=Ja(),ve=Wa(),o=C({...g.$state.variables}),z=C(g.$state.selectedMarkupScale),k=C(g.$state.selectedServiceTierScale),W=C(!0),ie=C(!0),Y=C(3),te=C(!1),ne=C(!1),w=C(["variables","markupScale","serviceTierScale","seasonalAndFeatures","calculationMethod"]),oe=C(!1),Z=C(!1),re=C(!1),y=C(o.value.seasonalAdjustment!==1),v=C(o.value.certificationBonus>0),c=C(o.value.warrantyFactor>0),$=C(o.value.emergencyRate>1);C("medium");const S=C(0),_=C(1),E=C(1),ee=U(()=>g.$state.markupScales.map((d,e)=>({name:d.name,index:e}))),se=U(()=>g.$state.serviceTierScales.map((d,e)=>({name:d.name,index:e}))),h=U(()=>g.$state.markupScales[z.value]),O=U(()=>g.$state.serviceTierScales[k.value]),D=U(()=>g.$state.calculationMethods.find(d=>d.id===g.$state.selectedCalculationMethod)),f=U(()=>g.$state.jobs),q=U(()=>{const d=["hourlyLaborFee","diagnosticFee","salesTax","materialInflation","customerDiscount","minimumJobFee","warrantyFactor","seasonalAdjustment","emergencyRate","certificationBonus"],e={};return Object.keys(o.value).forEach(t=>{d.includes(t)||(e[t]=o.value[t])}),e}),j=U(()=>{const d=g.$state.jobs[S.value];if(!d)return[];const e=[],t=g.$state.markupScales[z.value],r=g.$state.serviceTierScales[k.value],s=Object.entries(t.values).map(([N,G])=>[parseFloat(N.slice(1).replace(",","")),G]),Pe=Object.entries(r.values).filter(([N])=>!isNaN(parseFloat(N))).map(([N,G])=>[parseInt(N),G]).sort((N,G)=>N[0]-G[0]);for(const[N,G]of Pe){const ue=d.material*o.value.salesTax*E.value;let pe=1;for(const[ia,sa]of s)ue>=ia&&(pe=sa);const Fe=y.value&&o.value.seasonalAdjustment!==1?d.seasonalDemand==="low"?o.value.seasonalAdjustment*.9:d.seasonalDemand==="high"?o.value.seasonalAdjustment*1.1:o.value.seasonalAdjustment:1,$e=ue*pe*G*Fe,je=d.hours*o.value.hourlyLaborFee*_.value*G,F=c.value&&o.value.warrantyFactor>0?$e*o.value.warrantyFactor:0,de=v.value&&o.value.certificationBonus>0&&d.requiresCertification?o.value.certificationBonus:0,Me=$.value&&o.value.emergencyRate>1&&d.emergencyFactor>1?o.value.emergencyRate:1,ke=je*(d.emergencyFactor>1?Me:1),ra=$e+ke+o.value.diagnosticFee+F+de;e.push({tier:N,tierName:fe(N),matCost:ue.toFixed(2),matMarkup:pe,seasonalMultiplier:Fe.toFixed(2),matFee:$e.toFixed(2),laborFee:ke.toFixed(2),warrantyFee:F.toFixed(2),certFee:de.toFixed(2),emergencyMultiplier:Me.toFixed(2),totalFee:ra.toFixed(2),raw:{matCost:ue,matMarkup:pe,tierMult:G,seasonalMultiplier:Fe,laborHours:d.hours,hourlyRate:o.value.hourlyLaborFee,timeFactor:_.value,warrantyFactor:o.value.warrantyFactor,certBonus:o.value.certificationBonus,emergencyRate:o.value.emergencyRate,requiresCert:d.requiresCertification,emergencyFactor:d.emergencyFactor,diagnosticFee:o.value.diagnosticFee}})}return e}),J=U(()=>{var Pe,N,G,ue,pe,Fe,$e,je;if(!j.value.length)return"No job selected";const d=j.value.find(F=>F.tier===Y.value);if(!d)return`Tier ${Y.value} (${fe(Y.value)}) data not available with current pricing scale`;const e=d.raw,t=D.value,r=F=>`$${parseFloat(F).toFixed(2)}`;let s=`Job: ${((Pe=f.value[S.value])==null?void 0:Pe.title)||"Unknown"}
`;if(s+=`Calculation Method: ${(t==null?void 0:t.name)||"Standard"}
`,s+=`Tier: ${fe(Y.value)} (${e.tierMult}x)

`,s+=`INPUT VALUES:
`,s+=`- Material Base Cost: $${r(((N=f.value[S.value])==null?void 0:N.material)||0)}
`,s+=`- Material Cost Scale: ${E.value}x
`,s+=`- Material w/Tax (${r((o.value.salesTax-1)*100)}%): $${r(e.matCost)}
`,s+=`- Material Markup: ${e.matMarkup}x
`,s+=`- Labor Hours: ${e.laborHours}
`,s+=`- Hourly Rate: $${r(e.hourlyRate)}
`,s+=`- Labor Time Scale: ${e.timeFactor}x
`,s+=`- Diagnostic Fee: $${r(e.diagnosticFee)}
`,y.value){const F=((G=f.value[S.value])==null?void 0:G.seasonalDemand)||"medium";s+=`- Seasonal Adjustment (${F}): ${r(e.seasonalMultiplier)}x
`}if(c.value&&(s+=`- Warranty Factor: ${r(e.warrantyFactor*100)}%
`),v.value&&e.requiresCert&&(s+=`- Certification Fee: $${r(e.certBonus)}
`),$.value&&e.emergencyFactor>1&&(s+=`- Emergency Rate: ${r(e.emergencyRate)}x
`),s+=`
CALCULATION:
`,!t||t.id==="standard")s+=`1. Material Fee = Material Cost × Tax × Scale × Markup × Tier${y.value?" × Seasonal":""}
`,s+=`   = $${r(((ue=f.value[S.value])==null?void 0:ue.material)||0)} × ${r(o.value.salesTax)} × ${E.value} × ${e.matMarkup} × ${e.tierMult}${y.value?` × ${r(e.seasonalMultiplier)}`:""}
`,s+=`   = $${r(d.matFee)}

`,s+=`2. Labor Fee = Hours × Hourly Rate × Scale × Tier${$.value&&e.emergencyFactor>1?" × Emergency":""}
`,s+=`   = ${e.laborHours} × $${r(e.hourlyRate)} × ${e.timeFactor} × ${e.tierMult}${$.value&&e.emergencyFactor>1?` × ${r(e.emergencyRate)}`:""}
`,s+=`   = $${r(d.laborFee)}

`,c.value&&(s+=`3. Warranty Fee = Material Fee × Warranty Factor
`,s+=`   = $${r(d.matFee)} × ${e.warrantyFactor}
`,s+=`   = $${r(d.warrantyFee)}

`),v.value&&e.requiresCert&&(s+=`${c.value?"4":"3"}. Certification Fee = $${r(d.certFee)}

`),s+=`${c.value?v.value&&e.requiresCert?"5":"4":v.value&&e.requiresCert?"4":"3"}. Total Fee = Material Fee + Labor Fee + Diagnostic Fee`,c.value&&(s+=" + Warranty Fee"),v.value&&e.requiresCert&&(s+=" + Certification Fee"),s+=`
   = $${r(d.matFee)} + $${r(d.laborFee)} + $${r(e.diagnosticFee)}`,c.value&&(s+=` + $${r(d.warrantyFee)}`),v.value&&e.requiresCert&&(s+=` + $${r(d.certFee)}`),s+=`
   = $${r(d.totalFee)}`;else if(t.id==="cost-plus")s+=`1. Material Fee = Material Cost × Tax × Scale × (1 + Material Markup) × Tier${y.value?" × Seasonal":""}
`,s+=`   = ${r(((pe=f.value[S.value])==null?void 0:pe.material)||0)} × ${r(o.value.salesTax)} × ${E.value} × ${r(1+o.value.materialMarkup)} × ${e.tierMult}${y.value?` × ${r(e.seasonalMultiplier)}`:""}
`,s+=`   = ${r(d.matFee)}

`,s+=`2. Labor Fee = Hours × Hourly Rate × Scale × (1 + Labor Markup) × Tier${$.value&&e.emergencyFactor>1?" × Emergency":""}
`,s+=`   = ${e.laborHours} × ${r(e.hourlyRate)} × ${e.timeFactor} × ${r(1+o.value.laborMarkup)} × ${e.tierMult}${$.value&&e.emergencyFactor>1?` × ${r(e.emergencyRate)}`:""}
`,s+=`   = ${r(d.laborFee)}

`,c.value&&(s+=`3. Warranty Fee = Material Fee × Warranty Factor
`,s+=`   = ${r(d.matFee)} × ${e.warrantyFactor}
`,s+=`   = ${r(d.warrantyFee)}

`),v.value&&e.requiresCert&&(s+=`${c.value?"4":"3"}. Certification Fee = ${r(d.certFee)}

`),s+=`${c.value?v.value&&e.requiresCert?"5":"4":v.value&&e.requiresCert?"4":"3"}. Total Fee = Material Fee + Labor Fee + Diagnostic Fee`,c.value&&(s+=" + Warranty Fee"),v.value&&e.requiresCert&&(s+=" + Certification Fee"),s+=`
   = ${r(d.matFee)} + ${r(d.laborFee)} + ${r(e.diagnosticFee)}`,c.value&&(s+=` + ${r(d.warrantyFee)}`),v.value&&e.requiresCert&&(s+=` + ${r(d.certFee)}`),s+=`
   = ${r(d.totalFee)}`;else if(t.id==="profit-based"){const F=e.matCost+e.laborHours*o.value.hourlyLaborCost*e.timeFactor,de=F*o.value.overheadRate,Me=(F+de)*o.value.profitMargin,ke=F*e.tierMult-F;s+=`1. Base Cost = (Material Cost × Tax × Scale) + (Hours × Labor Cost × Scale)
`,s+=`   = ($${r(((Fe=f.value[S.value])==null?void 0:Fe.material)||0)} × ${r(o.value.salesTax)} × ${E.value}) + (${e.laborHours} × $${r(o.value.hourlyLaborCost)} × ${e.timeFactor})
`,s+=`   = $${r(F)}

`,s+=`2. Overhead = Base Cost × Overhead Rate
`,s+=`   = $${r(F)} × ${r(o.value.overheadRate)}
`,s+=`   = $${r(de)}

`,s+=`3. Profit = (Base Cost + Overhead) × Profit Margin
`,s+=`   = ($${r(F)} + $${r(de)}) × ${r(o.value.profitMargin)}
`,s+=`   = $${r(Me)}

`,s+=`4. Tier Effect = Base Cost × Tier - Base Cost
`,s+=`   = $${r(F)} × ${e.tierMult} - $${r(F)}
`,s+=`   = $${r(ke)}

`,y.value&&(s+=`5. Seasonal Effect = Base Cost × Seasonal - Base Cost
`,s+=`   = $${r(F)} × ${r(e.seasonalMultiplier)} - $${r(F)}
`,s+=`   = $${r(F*e.seasonalMultiplier-F)}

`),c.value&&(s+=`${y.value?"6":"5"}. Warranty Fee = Base Cost × (1 + Overhead + Profit) × Warranty Factor × Tier
`,s+=`   = ${r(F)} × ${r(1+o.value.overheadRate+o.value.profitMargin)} × ${e.warrantyFactor} × ${e.tierMult}
`,s+=`   = ${r(d.warrantyFee)}

`),v.value&&e.requiresCert&&(s+=`${y.value?c.value?"7":"6":c.value?"6":"5"}. Certification Fee = ${r(d.certFee)}

`),s+=`${y.value?c.value?v.value&&e.requiresCert?"8":"7":v.value&&e.requiresCert?"7":"6":c.value?v.value&&e.requiresCert?"7":"6":v.value&&e.requiresCert?"6":"5"}. Total Fee = Base Cost + Overhead + Profit + Tier Effect + Diagnostic Fee`,y.value&&(s+=" + Seasonal Effect"),c.value&&(s+=" + Warranty Fee"),v.value&&e.requiresCert&&(s+=" + Certification Fee"),s+=`
   = ${r(F)} + ${r(de)} + ${r(Me)} + ${r(ke)} + ${r(e.diagnosticFee)}`,y.value&&(s+=` + ${r(F*e.seasonalMultiplier-F)}`),c.value&&(s+=` + ${r(d.warrantyFee)}`),v.value&&e.requiresCert&&(s+=` + ${r(d.certFee)}`),s+=`
   = ${r(d.totalFee)}`}else if(t.id==="value-based"){const F=(($e=f.value[S.value])==null?void 0:$e.complexity)||1;s+=`1. Material Fee = Material Cost × Tax × Scale × Markup × Tier × Complexity${y.value?" × Seasonal":""}
`,s+=`   = ${r(((je=f.value[S.value])==null?void 0:je.material)||0)} × ${r(o.value.salesTax)} × ${E.value} × ${e.matMarkup} × ${e.tierMult} × ${r(F)}${y.value?` × ${r(e.seasonalMultiplier)}`:""}
`,s+=`   = ${r(d.matFee)}

`,s+=`2. Labor Fee = Hours × Hourly Rate × Scale × Tier × Complexity${$.value&&e.emergencyFactor>1?" × Emergency":""}
`,s+=`   = ${e.laborHours} × ${r(e.hourlyRate)} × ${e.timeFactor} × ${e.tierMult} × ${r(F)}${$.value&&e.emergencyFactor>1?` × ${r(e.emergencyRate)}`:""}
`,s+=`   = ${r(d.laborFee)}

`,c.value&&(s+=`3. Warranty Fee = Material Fee × Warranty Factor
`,s+=`   = ${r(d.matFee)} × ${e.warrantyFactor}
`,s+=`   = ${r(d.warrantyFee)}

`),v.value&&e.requiresCert&&(s+=`${c.value?"4":"3"}. Certification Fee = ${r(d.certFee)}

`),s+=`${c.value?v.value&&e.requiresCert?"5":"4":v.value&&e.requiresCert?"4":"3"}. Total Fee = Material Fee + Labor Fee + Diagnostic Fee`,c.value&&(s+=" + Warranty Fee"),v.value&&e.requiresCert&&(s+=" + Certification Fee"),s+=`
   = ${r(d.matFee)} + ${r(d.laborFee)} + ${r(e.diagnosticFee)}`,c.value&&(s+=` + ${r(d.warrantyFee)}`),v.value&&e.requiresCert&&(s+=` + ${r(d.certFee)}`),s+=`
   = ${r(d.totalFee)}`}return s});function ce(d){return d.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}function we(d){return{salesTax:"The sales tax multiplier applied to material costs (e.g., 1.07 for 7% tax)",hourlyLaborFee:"The amount charged to customers per hour of labor",hourlyLaborCost:"The actual cost to your company per hour of labor (used in profit-based pricing)",diagnosticFee:"The flat fee added to all service calls",profitMargin:"The target profit percentage (e.g., 0.25 for 25%) used in profit-based pricing",overheadRate:"The overhead percentage (e.g., 0.15 for 15%) used in profit-based pricing",materialMarkup:"The default markup percentage for materials in cost-plus pricing (e.g., 0.4 for 40%)",laborMarkup:"The default markup percentage for labor in cost-plus pricing (e.g., 0.65 for 65%)",warrantyFactor:"Percentage added to cover warranty costs (e.g., 0.1 for 10%)",seasonalAdjustment:"Seasonal price multiplier (1.0 = regular price, 1.1 = 10% increase, 0.9 = 10% decrease)",emergencyRate:"Multiplier for emergency service calls (e.g., 1.5 = 50% increase)",certificationBonus:"Additional flat fee for service requiring specialized certifications"}[d]||`Setting for ${ce(d)}`}function V(d,e){g.updateVariable(d,e),o.value[d]=e}function ae(d){g.setMarkupScale(d)}function xe(d){g.setServiceTierScale(d)}function fe(d){return{1:"Band-Aid",2:"Bronze",3:"Silver",4:"Gold",5:"Platinum"}[d]||`Tier ${d}`}function Ae(d){return{1:"Basic service with standard parts, temporary fix",2:"Economy service with better quality parts",3:"Mid-range service with extended warranty",4:"Premium service with priority scheduling",5:"Top-tier service with lifetime warranty"}[d]||""}function Re(d){return{1:"red",2:"amber-darken-2",3:"grey",4:"yellow",5:"blue-grey-lighten-3"}[d]||"primary"}function We(d){return{1:"mdi-medical-bag",2:"mdi-trophy-variant",3:"mdi-silverware",4:"mdi-gold",5:"mdi-diamond-stone"}[d]||"mdi-star"}be(o,()=>{y.value=o.value.seasonalAdjustment!==1,v.value=o.value.certificationBonus>0,c.value=o.value.warrantyFactor>0,$.value=o.value.emergencyRate>1}),be(()=>[z.value,k.value,S.value,_.value,E.value,g.$state.selectedCalculationMethod,y.value,v.value,c.value,$.value],()=>{});function ze(d){d?w.value=["variables","markupScale","serviceTierScale","seasonalAndFeatures","calculationMethod"]:w.value=[]}function De(){w.value.includes("variables")&&Object.entries({salesTax:1.07,hourlyLaborFee:200,hourlyLaborCost:30,diagnosticFee:30,profitMargin:.25,overheadRate:.15,materialMarkup:.4,laborMarkup:.65}).forEach(([e,t])=>{o.value[e]=t,g.updateVariable(e,t)}),w.value.includes("markupScale")&&(z.value=0,g.setMarkupScale(0)),w.value.includes("serviceTierScale")&&(k.value=0,g.setServiceTierScale(0)),w.value.includes("seasonalAndFeatures")&&(o.value.seasonalAdjustment=1,g.updateVariable("seasonalAdjustment",1),y.value=!1,o.value.warrantyFactor=0,g.updateVariable("warrantyFactor",0),c.value=!1,o.value.emergencyRate=1,g.updateVariable("emergencyRate",1),$.value=!1,o.value.certificationBonus=0,g.updateVariable("certificationBonus",0),v.value=!1),w.value.includes("calculationMethod")&&g.setCalculationMethod("standard"),ne.value=!1,alert("Selected values have been reset to defaults")}function Be(){localStorage.removeItem("menuPriceAppState"),te.value=!1,ve.go(0)}function Oe(d){d||(o.value.seasonalAdjustment=1,V("seasonalAdjustment",1))}function ta(d){d||(o.value.certificationBonus=0,V("certificationBonus",0))}function na(d){d?o.value.warrantyFactor===0&&(o.value.warrantyFactor=.1,V("warrantyFactor",.1)):(o.value.warrantyFactor=0,V("warrantyFactor",0))}function oa(d){d?o.value.emergencyRate===1&&(o.value.emergencyRate=1.5,V("emergencyRate",1.5)):(o.value.emergencyRate=1,V("emergencyRate",1))}return la(()=>{o.value={...g.$state.variables},Object.entries({seasonalAdjustment:1,warrantyFactor:.1,emergencyRate:1.5,certificationBonus:0,materialInflation:0,customerDiscount:0,minimumJobFee:75}).forEach(([e,t])=>{o.value[e]===void 0&&(o.value[e]=t,g.updateVariable(e,t))}),y.value=o.value.seasonalAdjustment!==1,v.value=o.value.certificationBonus>0,c.value=o.value.warrantyFactor>0,$.value=o.value.emergencyRate>1,z.value=g.$state.selectedMarkupScale,k.value=g.$state.selectedServiceTierScale}),(d,e)=>(b(),M("div",ol,[a(B,{class:"mb-4 px-4 py-2"},{default:l(()=>[a(I,{class:"text-h5 d-flex align-center"},{default:l(()=>[a(R,{icon:"mdi-arrow-left",variant:"text",size:"small",to:"/",class:"mr-2"}),e[69]||(e[69]=i(" Admin Settings ")),a(me),a(P,{location:"bottom"},{activator:l(({props:t})=>[a(R,A({color:"primary",variant:"outlined",size:"small"},t,{"prepend-icon":"mdi-refresh",class:"mr-2",onClick:e[0]||(e[0]=r=>ne.value=!0)}),{default:l(()=>e[65]||(e[65]=[i(" Reset Defaults ")])),_:2},1040)]),default:l(()=>[e[66]||(e[66]=n("span",null,"Reset values to factory defaults without removing your saved data",-1))]),_:1}),a(P,{location:"bottom"},{activator:l(({props:t})=>[a(R,A({color:"error",variant:"outlined",size:"small"},t,{"prepend-icon":"mdi-delete",onClick:e[1]||(e[1]=r=>te.value=!0)}),{default:l(()=>e[67]||(e[67]=[i(" Clear Data ")])),_:2},1040)]),default:l(()=>[e[68]||(e[68]=n("span",null,"Complete reset - removes all saved data and settings",-1))]),_:1})]),_:1}),a(Le,null,{default:l(()=>e[70]||(e[70]=[i("Configure company variables and pricing scales")])),_:1})]),_:1}),a(Ue,{modelValue:te.value,"onUpdate:modelValue":e[3]||(e[3]=t=>te.value=t),"max-width":"500",persistent:""},{default:l(()=>[a(B,null,{default:l(()=>[a(I,{class:"text-h5"},{default:l(()=>e[71]||(e[71]=[i(" Reset All Data? ")])),_:1}),a(le,null,{default:l(()=>e[72]||(e[72]=[i(" This will permanently delete all your customized settings and reset the application to its default state. This action cannot be undone. ")])),_:1}),a(Se,null,{default:l(()=>[a(me),a(R,{color:"grey",variant:"text",onClick:e[2]||(e[2]=t=>te.value=!1)},{default:l(()=>e[73]||(e[73]=[i(" Cancel ")])),_:1}),a(R,{color:"error",variant:"tonal",onClick:Be},{default:l(()=>e[74]||(e[74]=[i(" Reset All Data ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(Ue,{modelValue:ne.value,"onUpdate:modelValue":e[13]||(e[13]=t=>ne.value=t),"max-width":"500",persistent:""},{default:l(()=>[a(B,null,{default:l(()=>[a(I,{class:"text-h5"},{default:l(()=>e[75]||(e[75]=[i(" Reset to Default Values? ")])),_:1}),a(le,null,{default:l(()=>[e[81]||(e[81]=n("p",null,"This will reset all values to their factory defaults but preserve your saved data structure. Select which values to reset:",-1)),a(Ye,{modelValue:w.value,"onUpdate:modelValue":e[9]||(e[9]=t=>w.value=t),density:"compact","select-strategy":"multiple",class:"mt-4"},{default:l(()=>[a(X,{value:"variables",title:"Company Variables"},{prepend:l(()=>[a(Te,{modelValue:w.value,"onUpdate:modelValue":e[4]||(e[4]=t=>w.value=t),value:"variables"},null,8,["modelValue"])]),subtitle:l(()=>e[76]||(e[76]=[i(" Reset hourly rates, fees, markup percentages, etc. ")])),_:1}),a(X,{value:"markupScale",title:"Markup Scale"},{prepend:l(()=>[a(Te,{modelValue:w.value,"onUpdate:modelValue":e[5]||(e[5]=t=>w.value=t),value:"markupScale"},null,8,["modelValue"])]),subtitle:l(()=>e[77]||(e[77]=[i(" Reset to default markup scale ")])),_:1}),a(X,{value:"serviceTierScale",title:"Service Tier Scale"},{prepend:l(()=>[a(Te,{modelValue:w.value,"onUpdate:modelValue":e[6]||(e[6]=t=>w.value=t),value:"serviceTierScale"},null,8,["modelValue"])]),subtitle:l(()=>e[78]||(e[78]=[i(" Reset to default service tier multipliers ")])),_:1}),a(X,{value:"seasonalAndFeatures",title:"Seasonal Adjustments & Features"},{prepend:l(()=>[a(Te,{modelValue:w.value,"onUpdate:modelValue":e[7]||(e[7]=t=>w.value=t),value:"seasonalAndFeatures"},null,8,["modelValue"])]),subtitle:l(()=>e[79]||(e[79]=[i(" Reset all seasonal, warranty, emergency and certification settings to defaults ")])),_:1}),a(X,{value:"calculationMethod",title:"Calculation Method"},{prepend:l(()=>[a(Te,{modelValue:w.value,"onUpdate:modelValue":e[8]||(e[8]=t=>w.value=t),value:"calculationMethod"},null,8,["modelValue"])]),subtitle:l(()=>e[80]||(e[80]=[i(" Reset to standard calculation method ")])),_:1})]),_:1},8,["modelValue"])]),_:1}),a(Se,null,{default:l(()=>[a(R,{color:"primary",variant:"text",onClick:e[10]||(e[10]=t=>ze(!0))},{default:l(()=>e[82]||(e[82]=[i(" Select All ")])),_:1}),a(R,{color:"grey",variant:"text",onClick:e[11]||(e[11]=t=>ze(!1))},{default:l(()=>e[83]||(e[83]=[i(" Clear All ")])),_:1}),a(me),a(R,{color:"grey",variant:"text",onClick:e[12]||(e[12]=t=>ne.value=!1)},{default:l(()=>e[84]||(e[84]=[i(" Cancel ")])),_:1}),a(R,{color:"primary",variant:"tonal",disabled:!w.value.length,onClick:De},{default:l(()=>e[85]||(e[85]=[i(" Reset Selected ")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(B,{class:"mb-4 px-4 py-2"},{default:l(()=>[a(I,{class:"d-flex align-center"},{default:l(()=>[e[86]||(e[86]=n("span",null,"Company Variables",-1)),a(me),a(R,{icon:re.value?"mdi-chevron-up":"mdi-chevron-down",size:"small",variant:"text",onClick:e[14]||(e[14]=t=>re.value=!re.value)},null,8,["icon"])]),_:1}),a(Le,null,{default:l(()=>e[87]||(e[87]=[i("Core pricing variables and operational settings")])),_:1}),a(Xa,{onSubmit:e[33]||(e[33]=Oa(()=>{},["prevent"]))},{default:l(()=>[a(H,null,{default:l(()=>[a(x,{cols:"12",sm:"6",md:"3",class:"pa-6"},{default:l(()=>[a(K,{modelValue:o.value.hourlyLaborFee,"onUpdate:modelValue":e[15]||(e[15]=t=>o.value.hourlyLaborFee=t),modelModifiers:{number:!0},label:"Hourly Labor Fee",type:"number",prefix:"$",density:"compact",onChange:e[16]||(e[16]=t=>V("hourlyLaborFee",o.value.hourlyLaborFee))},{append:l(()=>[a(P,{location:"bottom"},{activator:l(({props:t})=>[a(p,A({icon:"mdi-information-outline",color:"info",size:"small"},t),null,16)]),default:l(()=>[e[88]||(e[88]=n("span",null,"The amount charged to customers per hour of labor",-1))]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(x,{cols:"12",sm:"6",md:"3"},{default:l(()=>[a(K,{modelValue:o.value.hourlyLaborCost,"onUpdate:modelValue":e[17]||(e[17]=t=>o.value.hourlyLaborCost=t),modelModifiers:{number:!0},label:"Hourly Labor Cost",type:"number",prefix:"$",density:"compact",onChange:e[18]||(e[18]=t=>V("hourlyLaborCost",o.value.hourlyLaborCost))},{append:l(()=>[a(P,{location:"bottom"},{activator:l(({props:t})=>[a(p,A({icon:"mdi-information-outline",color:"info",size:"small"},t),null,16)]),default:l(()=>[e[89]||(e[89]=n("span",null,"The actual cost to your company per hour of labor (used in profit-based pricing)",-1))]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(x,{cols:"12",sm:"6",md:"3"},{default:l(()=>[a(K,{modelValue:o.value.diagnosticFee,"onUpdate:modelValue":e[19]||(e[19]=t=>o.value.diagnosticFee=t),modelModifiers:{number:!0},label:"Diagnostic Fee",type:"number",prefix:"$",density:"compact",onChange:e[20]||(e[20]=t=>V("diagnosticFee",o.value.diagnosticFee))},{append:l(()=>[a(P,{location:"bottom"},{activator:l(({props:t})=>[a(p,A({icon:"mdi-information-outline",color:"info",size:"small"},t),null,16)]),default:l(()=>[e[90]||(e[90]=n("span",null,"The flat fee added to all service calls",-1))]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(x,{cols:"12",sm:"6",md:"3"},{default:l(()=>[a(K,{modelValue:o.value.salesTax,"onUpdate:modelValue":e[21]||(e[21]=t=>o.value.salesTax=t),modelModifiers:{number:!0},label:"Sales Tax Rate",type:"number",density:"compact",step:"0.01",onChange:e[22]||(e[22]=t=>V("salesTax",o.value.salesTax))},{append:l(()=>[a(P,{location:"bottom"},{activator:l(({props:t})=>[a(p,A({icon:"mdi-information-outline",color:"info",size:"small"},t),null,16)]),default:l(()=>[e[91]||(e[91]=n("span",null,"The sales tax multiplier (e.g., 1.07 for 7% tax)",-1))]),_:1})]),prepend:l(()=>[n("span",rl,m(((o.value.salesTax-1)*100).toFixed(1))+"%",1)]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(B,{class:"ma-2 pa-3",variant:"outlined"},{default:l(()=>[a(I,{class:"text-subtitle-1 pb-1"},{default:l(()=>e[92]||(e[92]=[i(" Material Cost Management ")])),_:1}),a(H,{dense:""},{default:l(()=>[a(x,{cols:"12"},{default:l(()=>[a(ye,{modelValue:o.value.materialInflation,"onUpdate:modelValue":e[25]||(e[25]=t=>o.value.materialInflation=t),min:0,max:.25,step:.01,label:"Material Inflation Adjustment","thumb-label":"",onChange:e[26]||(e[26]=t=>V("materialInflation",o.value.materialInflation))},{prepend:l(()=>[a(P,{location:"top"},{activator:l(({props:t})=>[a(p,A({icon:"mdi-information-outline",color:"info",size:"small"},t),null,16)]),default:l(()=>[e[93]||(e[93]=n("span",null,[i(" Adjusts all material costs to account for inflation."),n("br"),i(" 0% = No adjustment"),n("br"),i(" 10% = Increase all material costs by 10%"),n("br"),i(" 25% = Increase all material costs by 25% ")],-1))]),_:1})]),append:l(()=>[n("div",il,[n("span",sl,m((o.value.materialInflation*100).toFixed(0))+"%",1),a(K,{modelValue:o.value.materialInflation,"onUpdate:modelValue":e[23]||(e[23]=t=>o.value.materialInflation=t),modelModifiers:{number:!0},type:"number",style:{width:"70px"},density:"compact","hide-details":"",min:"0",max:"0.25",step:"0.01",onChange:e[24]||(e[24]=t=>V("materialInflation",o.value.materialInflation))},null,8,["modelValue"])])]),_:1},8,["modelValue"])]),_:1})]),_:1}),o.value.materialInflation>0?(b(),Q(H,{key:0,class:"mt-2"},{default:l(()=>[a(x,{cols:"12"},{default:l(()=>[a(He,{density:"compact",type:"info",variant:"tonal",icon:"mdi-currency-usd"},{default:l(()=>[e[94]||(e[94]=n("strong",null,"Material Inflation Active:",-1)),e[95]||(e[95]=i(" All material costs are being increased by ")),a(L,{size:"x-small",color:"primary",class:"mx-1"},{default:l(()=>[i(m((o.value.materialInflation*100).toFixed(0))+"% ",1)]),_:1}),e[96]||(e[96]=i(" For example, a $100 part now costs ")),a(L,{size:"x-small",color:"primary",class:"mx-1"},{default:l(()=>[i(" $"+m((100*(1+o.value.materialInflation)).toFixed(2)),1)]),_:1})]),_:1})]),_:1})]),_:1})):T("",!0)]),_:1}),a(B,{class:"ma-2 pa-3 mt-4",variant:"outlined"},{default:l(()=>[a(I,{class:"text-subtitle-1 pb-1"},{default:l(()=>e[97]||(e[97]=[i(" Custom Pricing Options ")])),_:1}),a(H,{dense:""},{default:l(()=>[a(x,{cols:"12",sm:"6",md:"6"},{default:l(()=>[a(ye,{modelValue:o.value.customerDiscount,"onUpdate:modelValue":e[29]||(e[29]=t=>o.value.customerDiscount=t),min:0,max:.3,step:.01,label:"Customer Discount","thumb-label":"",onChange:e[30]||(e[30]=t=>V("customerDiscount",o.value.customerDiscount))},{prepend:l(()=>[a(P,{location:"top"},{activator:l(({props:t})=>[a(p,A({icon:"mdi-information-outline",color:"info",size:"small"},t),null,16)]),default:l(()=>[e[98]||(e[98]=n("span",null,[i(" Special customer discount percentage."),n("br"),i(" 0% = No discount"),n("br"),i(" 10% = 10% off total price"),n("br"),i(" 30% = 30% off total price ")],-1))]),_:1})]),append:l(()=>[n("div",ul,[n("span",dl,m((o.value.customerDiscount*100).toFixed(0))+"%",1),a(K,{modelValue:o.value.customerDiscount,"onUpdate:modelValue":e[27]||(e[27]=t=>o.value.customerDiscount=t),modelModifiers:{number:!0},type:"number",style:{width:"70px"},density:"compact","hide-details":"",min:"0",max:"0.30",step:"0.01",onChange:e[28]||(e[28]=t=>V("customerDiscount",o.value.customerDiscount))},null,8,["modelValue"])])]),_:1},8,["modelValue"])]),_:1}),a(x,{cols:"12",sm:"6",md:"6"},{default:l(()=>[a(K,{modelValue:o.value.minimumJobFee,"onUpdate:modelValue":e[31]||(e[31]=t=>o.value.minimumJobFee=t),modelModifiers:{number:!0},label:"Minimum Job Fee",type:"number",prefix:"$",density:"compact",hint:"Minimum total price for any job","persistent-hint":"",onChange:e[32]||(e[32]=t=>V("minimumJobFee",o.value.minimumJobFee))},{append:l(()=>[a(P,{location:"bottom"},{activator:l(({props:t})=>[a(p,A({icon:"mdi-information-outline",color:"info",size:"small"},t),null,16)]),default:l(()=>[e[99]||(e[99]=n("span",null,"The minimum amount that will be charged for any job, regardless of calculated price",-1))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),o.value.customerDiscount>0||o.value.minimumJobFee>0?(b(),Q(H,{key:0,class:"mt-2"},{default:l(()=>[a(x,{cols:"12"},{default:l(()=>[a(He,{density:"compact",type:"info",variant:"tonal",icon:"mdi-currency-usd"},{default:l(()=>[a(H,{dense:""},{default:l(()=>[o.value.customerDiscount>0?(b(),Q(x,{key:0,cols:"12",sm:"6"},{default:l(()=>[e[100]||(e[100]=n("strong",null,"Customer Discount Active:",-1)),e[101]||(e[101]=i(" A ")),a(L,{size:"x-small",color:"primary",class:"mx-1"},{default:l(()=>[i(m((o.value.customerDiscount*100).toFixed(0))+"% ",1)]),_:1}),e[102]||(e[102]=i(" discount is being applied to all prices "))]),_:1})):T("",!0),o.value.minimumJobFee>0?(b(),Q(x,{key:1,cols:"12",sm:"6"},{default:l(()=>[e[103]||(e[103]=n("strong",null,"Minimum Fee Active:",-1)),e[104]||(e[104]=i(" No job will cost less than ")),a(L,{size:"x-small",color:"primary",class:"mx-1"},{default:l(()=>[i(" $"+m(o.value.minimumJobFee.toFixed(2)),1)]),_:1})]),_:1})):T("",!0)]),_:1})]),_:1})]),_:1})]),_:1})):T("",!0)]),_:1}),a(Ge,null,{default:l(()=>[re.value?(b(),M("div",ml,[a(H,{class:"mt-4 pa-5"},{default:l(()=>[a(x,{cols:"12",class:"pb-0"},{default:l(()=>e[105]||(e[105]=[n("div",{class:"text-subtitle-1 mb-2"}," Additional Variables ",-1)])),_:1}),(b(!0),M(ge,null,Ie(q.value,(t,r)=>(b(),Q(x,{key:r,cols:"12",sm:"6",md:"4"},{default:l(()=>[a(K,{modelValue:o.value[r],"onUpdate:modelValue":s=>o.value[r]=s,modelModifiers:{number:!0},label:ce(r),type:"number",density:"compact",onChange:s=>V(r,o.value[r])},{append:l(()=>[a(P,{location:"bottom"},{activator:l(({props:s})=>[a(p,A({icon:"mdi-information-outline",color:"info",size:"small",ref_for:!0},s),null,16)]),default:l(()=>[n("span",null,m(we(r)),1)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","label","onChange"])]),_:2},1024))),128))]),_:1})])):T("",!0)]),_:1})]),_:1}),a(B,{class:"ma-2 pa-3 mt-4 pb-8",variant:"outlined"},{default:l(()=>[a(I,{class:"text-subtitle-1 pb-5"},{default:l(()=>e[106]||(e[106]=[i(" Advanced Settings ")])),_:1}),a(H,{class:"mx-1"},{default:l(()=>[a(x,null,{default:l(()=>[a(R,{to:{name:"admin-jobs"},height:"120",width:"100%",variant:"outlined",class:"navigation-btn py-6"},{default:l(()=>[n("div",vl,[a(p,{size:"large",color:"primary",class:"mb-3"},{default:l(()=>e[107]||(e[107]=[i(" mdi-tools ")])),_:1}),e[108]||(e[108]=n("div",{class:"text-subtitle-1 mb-1"}," Job Management ",-1)),e[109]||(e[109]=n("div",{class:"text-caption px-3"}," Add, edit, and delete jobs ",-1))])]),_:1})]),_:1}),a(x,null,{default:l(()=>[a(R,{to:{name:"admin-calculations"},height:"120",width:"100%",variant:"outlined",class:"navigation-btn py-6"},{default:l(()=>[n("div",cl,[a(p,{size:"large",color:"primary",class:"mb-3"},{default:l(()=>e[110]||(e[110]=[i(" mdi-calculator ")])),_:1}),e[111]||(e[111]=n("div",{class:"text-subtitle-1 mb-1"}," Calculation Methods ",-1)),e[112]||(e[112]=n("div",{class:"text-caption px-3"}," Configure pricing formulas ",-1))])]),_:1})]),_:1}),a(x,null,{default:l(()=>[a(R,{height:"120",width:"100%",variant:"outlined",class:"navigation-btn py-6",onClick:e[34]||(e[34]=t=>oe.value=!0)},{default:l(()=>[n("div",fl,[a(p,{size:"large",color:"primary",class:"mb-3"},{default:l(()=>e[113]||(e[113]=[i(" mdi-calendar-month ")])),_:1}),e[114]||(e[114]=n("div",{class:"text-subtitle-1 mb-1"}," Seasonal Pricing ",-1)),e[115]||(e[115]=n("div",{class:"text-caption px-3"}," Adjust for seasonal demand ",-1))])]),_:1})]),_:1}),a(x,null,{default:l(()=>[a(R,{height:"120",width:"100%",variant:"outlined",class:"navigation-btn py-6",onClick:e[35]||(e[35]=t=>Z.value=!0)},{default:l(()=>[n("div",pl,[a(p,{size:"large",color:"primary",class:"mb-3"},{default:l(()=>e[116]||(e[116]=[i(" mdi-certificate ")])),_:1}),e[117]||(e[117]=n("div",{class:"text-subtitle-1 mb-1"}," Certification & Warranty ",-1)),e[118]||(e[118]=n("div",{class:"text-caption px-3"}," Configure special service features ",-1))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(B,{class:"mb-4 px-4 py-2"},{default:l(()=>[a(I,{class:"d-flex align-center"},{default:l(()=>[e[120]||(e[120]=n("span",null,"Markup Scale",-1)),a(P,{location:"end","content-class":"tooltip-bright"},{activator:l(({props:t})=>[a(p,A({icon:"mdi-information-outline",color:"info",size:"small",class:"ml-2"},t),null,16)]),default:l(()=>[e[119]||(e[119]=n("div",{class:"pa-3",style:{"max-width":"350px"}},[n("p",{class:"mb-2"},[n("strong",null,"Material Markup Scale")]),n("p",null,"This scale determines how materials are marked up based on their base cost. Lower-cost materials typically have higher markup percentages."),n("p",{class:"mt-2"}," For example, with the OG scale: "),n("ul",{class:"text-left mb-0"},[n("li",null,"A $4 part is marked up 4x (becomes $16)"),n("li",null,"A $50 part is marked up 2.5x (becomes $125)"),n("li",null,"A $200 part is marked up 1.75x (becomes $350)")])],-1))]),_:1})]),_:1}),a(le,null,{default:l(()=>[a(Ne,{modelValue:z.value,"onUpdate:modelValue":[e[36]||(e[36]=t=>z.value=t),ae],items:ee.value,"item-title":"name","item-value":"index",label:"Select Markup Scale"},null,8,["modelValue","items"]),h.value?(b(),M("div",yl,[n("div",bl,[e[122]||(e[122]=n("span",{class:"text-subtitle-2"},"Material Cost Markup Thresholds",-1)),a(P,{location:"end","content-class":"tooltip-bright"},{activator:l(({props:t})=>[a(p,A({icon:"mdi-information-outline",color:"info",size:"small",class:"ml-2"},t),null,16)]),default:l(()=>[e[121]||(e[121]=n("div",{class:"pa-3",style:{"max-width":"350px"}},[n("p",{class:"mb-2"},[n("strong",null,"Material Markup Scale")]),n("p",null,"This scale defines markup multipliers based on the material cost. The markup is applied after tax."),n("p",{class:"text-caption mt-2"}," For example, with a $15 part: "),n("ul",{class:"text-left mb-0"},[n("li",null,"Cost with tax (7%): $16.05"),n("li",null,"Markup multiplier (for $10-$20 range): 3x"),n("li",null,"Final material fee: $48.15")])],-1))]),_:1})]),a(Ze,{density:"compact",class:"mt-2"},{default:l(()=>[e[123]||(e[123]=n("thead",null,[n("tr",null,[n("th",null,"Material Cost Threshold"),n("th",null,"Markup Factor"),n("th",null,"Example")])],-1)),n("tbody",null,[(b(!0),M(ge,null,Ie(h.value.values,(t,r)=>(b(),M("tr",{key:r},[n("td",null,m(r)+" and above",1),n("td",null,[a(L,{size:"x-small",color:"primary",variant:"flat"},{default:l(()=>[i(m(t)+"x ",1)]),_:2},1024)]),n("td",gl," $100 × "+m(t)+" = $"+m((100*t).toFixed(2)),1)]))),128))])]),_:1})])):T("",!0)]),_:1})]),_:1}),a(B,{class:"mb-4 px-4 py-2"},{default:l(()=>[a(I,null,{default:l(()=>e[124]||(e[124]=[i("Service Tier Scale")])),_:1}),a(le,null,{default:l(()=>[a(Ne,{modelValue:k.value,"onUpdate:modelValue":[e[37]||(e[37]=t=>k.value=t),xe],items:se.value,"item-title":"name","item-value":"index",label:"Select Service Tier Scale"},null,8,["modelValue","items"]),O.value?(b(),M("div",xl,[n("div",Fl,[e[126]||(e[126]=n("span",{class:"text-subtitle-2"},"Service Tier Multipliers",-1)),a(P,{location:"end","content-class":"tooltip-bright"},{activator:l(({props:t})=>[a(p,A({icon:"mdi-information-outline",color:"info",size:"small",class:"ml-2"},t),null,16)]),default:l(()=>[e[125]||(e[125]=n("div",{class:"pa-3",style:{"max-width":"350px"}},[n("p",{class:"mb-2"},[n("strong",null,"Service Tier Scale")]),n("p",null,"Each tier (Band-Aid through Platinum) has a multiplier that affects both material and labor costs. Higher tiers offer better quality, warranty, and service."),n("ul",{class:"text-left mb-2"},[n("li",null,[n("strong",null,"Band-Aid (1x):"),i(" Basic service with standard parts")]),n("li",null,[n("strong",null,"Bronze (1.5x):"),i(" Economy service with improved quality")]),n("li",null,[n("strong",null,"Silver (2x):"),i(" Mid-range service with better warranty")]),n("li",null,[n("strong",null,"Gold (2.5x):"),i(" Premium service with extended warranty")]),n("li",null,[n("strong",null,"Platinum (3x):"),i(" Top-tier service with lifetime warranty")])])],-1))]),_:1})]),a(Ze,{density:"compact",class:"mt-2"},{default:l(()=>[e[127]||(e[127]=n("thead",null,[n("tr",null,[n("th",null,"Tier Level"),n("th",null,"Multiplier"),n("th",null,"Description")])],-1)),n("tbody",null,[(b(),M(ge,null,Ie([1,2,3,4,5],t=>n("tr",{key:t},[n("td",null,[a(L,{size:"small",color:Re(t),variant:"tonal",class:"mr-2"},{default:l(()=>[a(p,{size:"x-small",icon:We(t),class:"mr-1"},null,8,["icon"]),i(" "+m(fe(t)),1)]),_:2},1032,["color"])]),n("td",null,[a(L,{size:"x-small",color:"primary",variant:"flat"},{default:l(()=>[i(m(O.value.values[t])+"x ",1)]),_:2},1024)]),n("td",$l,m(Ae(t)),1)])),64))])]),_:1})])):T("",!0)]),_:1})]),_:1}),a(B,{class:"mb-4 px-4 py-2"},{default:l(()=>[a(I,{class:"d-flex align-center"},{default:l(()=>[e[128]||(e[128]=n("span",null,"Price Preview",-1)),a(me),a(R,{icon:W.value?"mdi-chevron-up":"mdi-chevron-down",size:"small",variant:"text",onClick:e[38]||(e[38]=t=>W.value=!W.value)},null,8,["icon"])]),_:1}),a(Le,null,{default:l(()=>e[129]||(e[129]=[i("See how your settings affect pricing in real-time")])),_:1}),a(le,null,{default:l(()=>[a(H,null,{default:l(()=>[a(x,{cols:"12",sm:"4"},{default:l(()=>[a(Ne,{modelValue:S.value,"onUpdate:modelValue":e[39]||(e[39]=t=>S.value=t),items:f.value.map((t,r)=>({title:t.title,value:r})),"item-title":"title","item-value":"value",label:"Sample Job",density:"compact"},null,8,["modelValue","items"])]),_:1}),a(x,{cols:"12",sm:"4"},{default:l(()=>[a(ye,{modelValue:_.value,"onUpdate:modelValue":e[40]||(e[40]=t=>_.value=t),min:1,max:10,step:1,label:"Time Factor","thumb-label":"",density:"compact"},null,8,["modelValue"])]),_:1}),a(x,{cols:"12",sm:"4"},{default:l(()=>[a(ye,{modelValue:E.value,"onUpdate:modelValue":e[41]||(e[41]=t=>E.value=t),min:1,max:10,step:1,label:"Material Factor","thumb-label":"",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(Ge,null,{default:l(()=>[W.value?(b(),M("div",Vl,[a(le,null,{default:l(()=>[a(Ze,{density:"compact",class:"mt-2"},{default:l(()=>[n("thead",null,[n("tr",null,[e[130]||(e[130]=n("th",null,"Tier",-1)),e[131]||(e[131]=n("th",null,"Material Cost",-1)),e[132]||(e[132]=n("th",null,"Material Markup",-1)),e[133]||(e[133]=n("th",null,"Material Fee",-1)),e[134]||(e[134]=n("th",null,"Labor Fee",-1)),c.value.value?(b(),M("th",Cl," Warranty Fee ")):T("",!0),v.value.value?(b(),M("th",wl," Certification ")):T("",!0),e[135]||(e[135]=n("th",null,"Diagnostic Fee",-1)),e[136]||(e[136]=n("th",null,"Total Fee",-1))])]),n("tbody",null,[(b(!0),M(ge,null,Ie(j.value,t=>{var r;return b(),M("tr",{key:t.tier},[n("td",null,[a(L,{size:"x-small",color:Re(t.tier),variant:"tonal",class:"mr-1"},{default:l(()=>[i(m(t.tierName),1)]),_:2},1032,["color"])]),n("td",null,"$"+m(t.matCost),1),n("td",null,[i(m(t.matMarkup)+"x ",1),h.value?(b(),Q(P,{key:0},{activator:l(({props:s})=>[a(p,A({icon:"mdi-information-outline",size:"x-small",class:"ml-1",ref_for:!0},s),null,16)]),default:l(()=>[n("span",null,"From '"+m(h.value.name)+"' scale",1)]),_:1})):T("",!0)]),n("td",null,[i(" $"+m(t.matFee)+" ",1),y.value?(b(),Q(P,{key:0},{activator:l(({props:s})=>[a(p,A({icon:"mdi-calendar",size:"x-small",class:"ml-1",ref_for:!0},s),null,16)]),default:l(()=>[n("span",null,"Includes "+m(t.seasonalMultiplier)+"x seasonal adjustment",1)]),_:2},1024)):T("",!0)]),n("td",null,[i(" $"+m(t.laborFee)+" ",1),$.value&&t.emergencyMultiplier>1?(b(),Q(P,{key:0},{activator:l(({props:s})=>[a(p,A({icon:"mdi-alert",size:"x-small",class:"ml-1",color:"error",ref_for:!0},s),null,16)]),default:l(()=>[n("span",null,"Includes "+m(t.emergencyMultiplier)+"x emergency rate",1)]),_:2},1024)):T("",!0)]),c.value.value?(b(),M("td",Ml," $"+m(t.warrantyFee),1)):T("",!0),v.value.value?(b(),M("td",kl,[(r=f.value[S.value])!=null&&r.requiresCertification?(b(),M("span",Sl,"$"+m(t.certFee),1)):(b(),M("span",Tl,"N/A"))])):T("",!0),n("td",null,"$"+m(o.value.diagnosticFee),1),n("td",Al," $"+m(t.totalFee),1)])}),128))])]),_:1}),a(B,{variant:"outlined",class:"mt-3 pa-2"},{default:l(()=>[a(I,{class:"text-subtitle-1 pb-1"},{default:l(()=>e[137]||(e[137]=[i(" Job Information ")])),_:1}),a(le,{class:"pt-0"},{default:l(()=>[a(H,{dense:""},{default:l(()=>[a(x,{cols:"12",sm:"6",md:"4"},{default:l(()=>{var t;return[n("div",Rl,[a(p,{size:"small",color:"primary",class:"mr-1"},{default:l(()=>e[138]||(e[138]=[i(" mdi-tools ")])),_:1}),e[139]||(e[139]=n("strong",{class:"text-body-2 mr-1"},"Job:",-1)),n("span",null,m(((t=f.value[S.value])==null?void 0:t.title)||"Sample Job"),1)])]}),_:1}),a(x,{cols:"12",sm:"6",md:"4"},{default:l(()=>{var t;return[n("div",zl,[a(p,{size:"small",color:"primary",class:"mr-1"},{default:l(()=>e[140]||(e[140]=[i(" mdi-calculator ")])),_:1}),e[141]||(e[141]=n("strong",{class:"text-body-2 mr-1"},"Method:",-1)),n("span",null,m(((t=D.value)==null?void 0:t.name)||"Standard Method"),1)])]}),_:1}),a(x,{cols:"12",sm:"6",md:"4"},{default:l(()=>{var t;return[n("div",Dl,[a(p,{size:"small",color:y.value?"amber-darken-2":"grey",class:"mr-1"},{default:l(()=>e[142]||(e[142]=[i(" mdi-weather-sunny ")])),_:1},8,["color"]),e[143]||(e[143]=n("strong",{class:"text-body-2 mr-1"},"Demand:",-1)),n("span",Bl,[i(m(((t=f.value[S.value])==null?void 0:t.seasonalDemand)||"medium")+" ",1),a(L,{size:"x-small",color:y.value?"amber-darken-2":"grey",variant:"flat",class:"ml-1"},{default:l(()=>[i(m(y.value?"on":"off"),1)]),_:1},8,["color"])])])]}),_:1}),a(x,{cols:"12",sm:"6",md:"4"},{default:l(()=>{var t,r;return[n("div",Pl,[a(p,{size:"small",color:((t=f.value[S.value])==null?void 0:t.emergencyFactor)>1&&$.value?"error":"grey",class:"mr-1"},{default:l(()=>e[144]||(e[144]=[i(" mdi-alert-circle ")])),_:1},8,["color"]),e[145]||(e[145]=n("strong",{class:"text-body-2 mr-1"},"Emergency:",-1)),n("span",jl,[i(m(((r=f.value[S.value])==null?void 0:r.emergencyFactor)>1?"Yes":"No")+" ",1),a(L,{size:"x-small",color:$.value?"error":"grey",variant:"flat",class:"ml-1"},{default:l(()=>[i(m($.value?"on":"off"),1)]),_:1},8,["color"])])])]}),_:1}),a(x,{cols:"12",sm:"6",md:"4"},{default:l(()=>{var t,r;return[n("div",Il,[a(p,{size:"small",color:(t=f.value[S.value])!=null&&t.requiresCertification&&v.value?"success":"grey",class:"mr-1"},{default:l(()=>e[146]||(e[146]=[i(" mdi-certificate ")])),_:1},8,["color"]),e[147]||(e[147]=n("strong",{class:"text-body-2 mr-1"},"Certification:",-1)),n("span",Ll,[i(m((r=f.value[S.value])!=null&&r.requiresCertification?"Required":"None")+" ",1),a(L,{size:"x-small",color:v.value?"success":"grey",variant:"flat",class:"ml-1"},{default:l(()=>[i(m(v.value?"on":"off"),1)]),_:1},8,["color"])])])]}),_:1})]),_:1})]),_:1})]),_:1}),n("div",Ul,[e[148]||(e[148]=n("strong",null,"Note:",-1)),i(" All prices include diagnostic fee of $"+m(o.value.diagnosticFee),1)])]),_:1})])):T("",!0)]),_:1})]),_:1}),a(B,{class:"mb-4 px-4 py-2"},{default:l(()=>[a(I,{class:"d-flex align-center"},{default:l(()=>[e[149]||(e[149]=n("span",null,"Formula Breakdown",-1)),a(me),a(R,{icon:ie.value?"mdi-chevron-up":"mdi-chevron-down",size:"small",variant:"text",onClick:e[42]||(e[42]=t=>ie.value=!ie.value)},null,8,["icon"])]),_:1}),a(Le,null,{default:l(()=>e[150]||(e[150]=[i("See the exact mathematical formulas and calculations")])),_:1}),a(Ge,null,{default:l(()=>[ie.value?(b(),M("div",El,[a(le,null,{default:l(()=>[n("div",ql,[a(Ne,{modelValue:Y.value,"onUpdate:modelValue":e[43]||(e[43]=t=>Y.value=t),items:[{title:"Band-Aid (1x)",value:1},{title:"Bronze (1.5x)",value:2},{title:"Silver (2x)",value:3},{title:"Gold (2.5x)",value:4},{title:"Platinum (3x)",value:5}],"item-title":"title","item-value":"value",label:"Show calculations for tier",density:"compact",style:{"max-width":"200px"},class:"mr-4"},null,8,["modelValue"]),a(L,{size:"small",color:"primary",variant:"flat",class:"mr-2"},{default:l(()=>[i(m(D.value?D.value.name:"Standard"),1)]),_:1}),a(P,{location:"top"},{activator:l(({props:t})=>[a(p,A({icon:"mdi-information-outline",color:"info",size:"small",class:"ml-2"},t),null,16)]),default:l(()=>[e[151]||(e[151]=n("div",{class:"pa-2",style:{"max-width":"400px"}},[n("p",{class:"mb-1"},[n("strong",null,"About Calculation Methods")]),n("ul",{class:"mb-0"},[n("li",null,[n("strong",null,"Standard:"),i(" Uses markup tiers based on material cost. "),n("span",{class:"text-grey text-caption"},"Uses: salesTax, hourlyLaborFee, diagnosticFee")]),n("li",null,[n("strong",null,"Cost-Plus:"),i(" Uses fixed markup percentages for labor and materials. "),n("span",{class:"text-grey text-caption"},"Uses: salesTax, hourlyLaborFee, diagnosticFee, materialMarkup, laborMarkup")]),n("li",null,[n("strong",null,"Profit-Based:"),i(" Calculates based on target profit margins. "),n("span",{class:"text-grey text-caption"},"Uses: salesTax, hourlyLaborCost, diagnosticFee, profitMargin, overheadRate")]),n("li",null,[n("strong",null,"Value-Based:"),i(" Pricing based on perceived value and complexity. "),n("span",{class:"text-grey text-caption"},"Uses: salesTax, hourlyLaborFee, diagnosticFee")])])],-1))]),_:1})]),a(nl,{modelValue:J.value,"onUpdate:modelValue":e[44]||(e[44]=t=>J.value=t),readonly:"","auto-grow":"",rows:"12",variant:"outlined",density:"compact","bg-color":"grey-lighten-4",class:"font-monospace"},null,8,["modelValue"]),a(He,{variant:"tonal",type:"info",density:"compact",icon:"mdi-information-outline",class:"mt-3"},{default:l(()=>e[152]||(e[152]=[n("strong",null,"Formula Key:",-1),n("ul",{class:"mt-2 mb-0"},[n("li",null,[n("strong",null,"Material Cost:"),i(" Base cost × Tax × Scale")]),n("li",null,[n("strong",null,"Material Fee:"),i(" Material Cost × Markup × Tier × Seasonal (if applicable)")]),n("li",null,[n("strong",null,"Labor Fee:"),i(" Hours × Hourly Rate × Scale × Tier × Emergency (if applicable)")]),n("li",null,[n("strong",null,"Warranty Fee:"),i(" Material Fee × Warranty Factor (if applicable)")]),n("li",null,[n("strong",null,"Total Fee:"),i(" Material Fee + Labor Fee + Diagnostic Fee + Warranty Fee + Certification Fee (if applicable)")])],-1)])),_:1}),j.value.find(t=>t.tier===Y.value)?T("",!0):(b(),Q(He,{key:0,variant:"outlined",type:"warning",density:"compact",icon:"mdi-alert-circle",class:"mt-3"},{default:l(()=>e[153]||(e[153]=[n("strong",null,"Note:",-1),i(" Formula breakdown may not be available for the selected tier with the current pricing scale. Please select a different tier from the dropdown above. ")])),_:1}))]),_:1})])):T("",!0)]),_:1})]),_:1}),a(Ue,{modelValue:oe.value,"onUpdate:modelValue":e[51]||(e[51]=t=>oe.value=t),"max-width":"500"},{default:l(()=>[a(B,null,{default:l(()=>[a(I,null,{default:l(()=>e[154]||(e[154]=[i("Seasonal Pricing Adjustments")])),_:1}),a(le,null,{default:l(()=>[e[162]||(e[162]=n("p",{class:"mb-4"}," Configure how pricing varies based on seasonal demand. A value of 1.0 means no adjustment to standard pricing. ",-1)),a(Ee,{modelValue:y.value,"onUpdate:modelValue":e[45]||(e[45]=t=>y.value=t),color:"primary",label:"Enable Seasonal Pricing Adjustments",hint:"Turn on to apply seasonal price adjustments","persistent-hint":"",class:"mb-4",onChange:Oe},null,8,["modelValue"]),a(ye,{modelValue:o.value.seasonalAdjustment,"onUpdate:modelValue":e[48]||(e[48]=t=>o.value.seasonalAdjustment=t),min:.8,max:1.2,step:.05,label:"Base Seasonal Adjustment","thumb-label":"",disabled:!y.value,onChange:e[49]||(e[49]=t=>V("seasonalAdjustment",o.value.seasonalAdjustment))},{append:l(()=>[a(K,{modelValue:o.value.seasonalAdjustment,"onUpdate:modelValue":e[46]||(e[46]=t=>o.value.seasonalAdjustment=t),modelModifiers:{number:!0},type:"number",style:{width:"80px"},density:"compact","hide-details":"",disabled:!y.value,onChange:e[47]||(e[47]=t=>V("seasonalAdjustment",o.value.seasonalAdjustment))},null,8,["modelValue","disabled"])]),_:1},8,["modelValue","disabled"]),a(B,{class:"pa-3 mt-4",variant:"outlined"},{default:l(()=>[n("div",Nl,[e[158]||(e[158]=n("span",{class:"text-subtitle-2"},"Seasonal Effect Preview",-1)),y.value?(b(),Q(L,{key:0,size:"small",color:"primary",variant:"flat",class:"ml-3"},{default:l(()=>[a(p,{size:"x-small",class:"mr-1"},{default:l(()=>e[155]||(e[155]=[i(" mdi-check ")])),_:1}),e[156]||(e[156]=i(" Enabled "))]),_:1})):(b(),Q(L,{key:1,size:"small",color:"grey",variant:"flat",class:"ml-3"},{default:l(()=>e[157]||(e[157]=[i(" Disabled ")])),_:1}))]),a(Ye,{density:"compact"},{default:l(()=>[a(X,null,{prepend:l(()=>[a(p,{icon:"mdi-arrow-down",color:"blue"})]),default:l(()=>[a(Ve,null,{default:l(()=>e[159]||(e[159]=[i("Low Demand Season")])),_:1}),a(Ce,null,{default:l(()=>[i(m((o.value.seasonalAdjustment*.9).toFixed(2))+"x multiplier ",1),y.value?T("",!0):(b(),M("span",Hl,"(not applied)"))]),_:1})]),_:1}),a(X,null,{prepend:l(()=>[a(p,{icon:"mdi-arrow-right",color:"grey"})]),default:l(()=>[a(Ve,null,{default:l(()=>e[160]||(e[160]=[i("Medium Demand Season (Standard)")])),_:1}),a(Ce,null,{default:l(()=>[i(m(o.value.seasonalAdjustment.toFixed(2))+"x multiplier ",1),y.value?T("",!0):(b(),M("span",Wl,"(not applied)"))]),_:1})]),_:1}),a(X,null,{prepend:l(()=>[a(p,{icon:"mdi-arrow-up",color:"red"})]),default:l(()=>[a(Ve,null,{default:l(()=>e[161]||(e[161]=[i("High Demand Season")])),_:1}),a(Ce,null,{default:l(()=>[i(m((o.value.seasonalAdjustment*1.1).toFixed(2))+"x multiplier ",1),y.value?T("",!0):(b(),M("span",Ol,"(not applied)"))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(Se,null,{default:l(()=>[a(me),a(R,{color:"primary",onClick:e[50]||(e[50]=t=>oe.value=!1)},{default:l(()=>e[163]||(e[163]=[i(" Close ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(Ue,{modelValue:Z.value,"onUpdate:modelValue":e[64]||(e[64]=t=>Z.value=t),"max-width":"700"},{default:l(()=>[a(B,null,{default:l(()=>[a(I,{class:"text-h5 pa-4"},{default:l(()=>e[164]||(e[164]=[i(" Certification and Warranty Pricing ")])),_:1}),a(le,{class:"pa-4"},{default:l(()=>[e[177]||(e[177]=n("p",{class:"mb-5 text-body-1"}," Configure pricing for specialized certifications, warranty coverage, and emergency service rates. ",-1)),a(B,{class:"mb-5 pa-4",variant:"outlined"},{default:l(()=>[a(I,{class:"text-subtitle-1 d-flex align-center"},{default:l(()=>[a(p,{icon:"mdi-certificate",color:"amber-darken-2",class:"mr-2"}),e[165]||(e[165]=i(" Certification Fees "))]),_:1}),a(qe,{class:"my-3"}),a(H,{align:"center"},{default:l(()=>[a(x,{cols:"12",sm:"5",md:"4",class:"py-2"},{default:l(()=>[a(Ee,{modelValue:v.value,"onUpdate:modelValue":e[52]||(e[52]=t=>v.value=t),color:"primary",label:"Apply Certification Fees",hint:"Turn on to charge for specialized certifications","persistent-hint":"",onChange:ta},null,8,["modelValue"])]),_:1}),a(x,{cols:"12",sm:"7",md:"8",class:"py-2"},{default:l(()=>[a(K,{modelValue:o.value.certificationBonus,"onUpdate:modelValue":e[53]||(e[53]=t=>o.value.certificationBonus=t),modelModifiers:{number:!0},label:"Certification Fee",type:"number",prefix:"$",hint:"Additional fee for jobs requiring certification","persistent-hint":"",disabled:!v.value,onChange:e[54]||(e[54]=t=>V("certificationBonus",o.value.certificationBonus))},{append:l(()=>[a(L,{size:"small",color:v.value?"primary":"grey",variant:"flat"},{default:l(()=>[i(m(v.value?"Applied":"Not Applied"),1)]),_:1},8,["color"])]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1}),a(B,{class:"mb-5 pa-4",variant:"outlined"},{default:l(()=>[a(I,{class:"text-subtitle-1 d-flex align-center"},{default:l(()=>[a(p,{icon:"mdi-shield",color:"primary",class:"mr-2"}),e[166]||(e[166]=i(" Warranty Coverage "))]),_:1}),a(qe,{class:"my-3"}),e[168]||(e[168]=n("p",{class:"mb-3"}," Warranty costs are calculated as a percentage of material costs and vary by service tier. ",-1)),a(H,{align:"center"},{default:l(()=>[a(x,{cols:"12",sm:"5",md:"4",class:"py-2"},{default:l(()=>[a(Ee,{modelValue:c.value,"onUpdate:modelValue":e[55]||(e[55]=t=>c.value=t),color:"primary",label:"Warranty Coverage",hint:"Include warranty protection costs","persistent-hint":"",onChange:na},null,8,["modelValue"])]),_:1}),a(x,{cols:"12",sm:"7",md:"8",class:"py-2"},{default:l(()=>[a(ye,{modelValue:o.value.warrantyFactor,"onUpdate:modelValue":e[56]||(e[56]=t=>o.value.warrantyFactor=t),modelModifiers:{number:!0},min:0,max:.3,step:.01,label:"Warranty Factor","thumb-label":"",disabled:!c.value,onChange:e[57]||(e[57]=t=>V("warrantyFactor",o.value.warrantyFactor))},{prepend:l(()=>[a(P,{location:"top"},{activator:l(({props:t})=>[a(p,A({icon:"mdi-information-outline",color:"info",size:"small"},t),null,16)]),default:l(()=>[e[167]||(e[167]=n("span",null,[i(" 0% = No warranty costs"),n("br"),i(" 10% = Add 10% of material costs"),n("br"),i(" 30% = Add 30% of material costs ")],-1))]),_:1})]),append:l(()=>[n("div",Jl,[n("span",Gl,m((o.value.warrantyFactor*100).toFixed(0))+"%",1),a(L,{size:"x-small",color:c.value?"primary":"grey",variant:"flat",class:"ml-2"},{default:l(()=>[i(m(c.value?"On":"Off"),1)]),_:1},8,["color"])])]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1}),a(B,{class:"mb-5 pa-4",variant:"outlined"},{default:l(()=>[a(I,{class:"text-subtitle-1 d-flex align-center"},{default:l(()=>[a(p,{icon:"mdi-alert",color:"error",class:"mr-2"}),e[169]||(e[169]=i(" Emergency Service Rates "))]),_:1}),a(qe,{class:"my-3"}),e[171]||(e[171]=n("p",{class:"mb-3"}," Higher rates apply to emergency service calls (after hours, weekends, holidays). ",-1)),a(H,{align:"center"},{default:l(()=>[a(x,{cols:"12",sm:"5",md:"4",class:"py-2"},{default:l(()=>[a(Ee,{modelValue:$.value,"onUpdate:modelValue":e[58]||(e[58]=t=>$.value=t),color:"primary",label:"Apply Emergency Rates",hint:"Turn on to enable emergency pricing","persistent-hint":"",onChange:oa},null,8,["modelValue"])]),_:1}),a(x,{cols:"12",sm:"7",md:"8",class:"py-2"},{default:l(()=>[a(ye,{modelValue:o.value.emergencyRate,"onUpdate:modelValue":e[61]||(e[61]=t=>o.value.emergencyRate=t),modelModifiers:{number:!0},min:1,max:3,step:.1,label:"Emergency Rate Multiplier","thumb-label":"",disabled:!$.value,onChange:e[62]||(e[62]=t=>V("emergencyRate",o.value.emergencyRate))},{prepend:l(()=>[a(P,{location:"top"},{activator:l(({props:t})=>[a(p,A({icon:"mdi-information-outline",color:"info",size:"small"},t),null,16)]),default:l(()=>[e[170]||(e[170]=n("span",null,[i(" 1.0x = Standard rate (no premium)"),n("br"),i(" 1.5x = 50% premium (time-and-a-half)"),n("br"),i(" 2.0x = Double rate"),n("br"),i(" 3.0x = Triple rate ")],-1))]),_:1})]),append:l(()=>[n("div",Yl,[a(K,{modelValue:o.value.emergencyRate,"onUpdate:modelValue":e[59]||(e[59]=t=>o.value.emergencyRate=t),modelModifiers:{number:!0},type:"number",style:{width:"60px"},density:"compact","hide-details":"",disabled:!$.value,onChange:e[60]||(e[60]=t=>V("emergencyRate",o.value.emergencyRate))},null,8,["modelValue","disabled"]),a(L,{size:"x-small",color:$.value?"primary":"grey",variant:"flat",class:"ml-2"},{default:l(()=>[i(m($.value?"On":"Off"),1)]),_:1},8,["color"])])]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1}),a(B,{variant:"outlined",class:"pa-4"},{default:l(()=>[a(I,{class:"text-subtitle-2 pb-2 d-flex align-center"},{default:l(()=>[a(p,{icon:"mdi-calculator",color:"primary",class:"mr-2"}),e[172]||(e[172]=i(" Price Impact Preview "))]),_:1}),a(qe,{class:"mb-3"}),e[176]||(e[176]=n("p",{class:"text-body-2 mb-3"}," Example: $200 service call with $100 materials: ",-1)),a(Ye,null,{default:l(()=>[a(X,null,{default:l(()=>[a(Ve,null,{default:l(()=>[a(p,{icon:"mdi-certificate",size:"small",class:"mr-1",color:"amber-darken-2"}),e[173]||(e[173]=i(" Certification Fee "))]),_:1}),a(Ce,null,{default:l(()=>[i(" +$"+m(o.value.certificationBonus.toFixed(2))+" ",1),v.value?T("",!0):(b(),M("span",Zl,"(not applied)"))]),_:1})]),_:1}),a(X,null,{default:l(()=>[a(Ve,null,{default:l(()=>[a(p,{icon:"mdi-shield",size:"small",class:"mr-1",color:"primary"}),e[174]||(e[174]=i(" Warranty (on $100 materials) "))]),_:1}),a(Ce,null,{default:l(()=>[i(" +$"+m((100*o.value.warrantyFactor).toFixed(2))+" ",1),c.value?T("",!0):(b(),M("span",hl,"(not applied)"))]),_:1})]),_:1}),a(X,null,{default:l(()=>[a(Ve,null,{default:l(()=>[a(p,{icon:"mdi-alert",size:"small",class:"mr-1",color:"error"}),e[175]||(e[175]=i(" Emergency Rate "))]),_:1}),a(Ce,null,{default:l(()=>[i(m(o.value.emergencyRate.toFixed(2))+"x normal rate ",1),$.value?T("",!0):(b(),M("span",Ql,"(not applied)"))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(Se,{class:"pa-4"},{default:l(()=>[a(me),a(R,{color:"primary",size:"large",onClick:e[63]||(e[63]=t=>Z.value=!1)},{default:l(()=>e[178]||(e[178]=[i(" Close ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(Se,{class:"d-flex justify-center mb-4"},{default:l(()=>[a(R,{color:"primary",to:{name:"diagnosis"},variant:"elevated",rounded:"lg",size:"large",class:"px-6 py-2"},{default:l(()=>[a(p,{class:"mr-2"},{default:l(()=>e[179]||(e[179]=[i(" mdi-arrow-right ")])),_:1}),e[180]||(e[180]=i(" Continue to Diagnosis "))]),_:1})]),_:1})]))}},mt=Ga(Xl,[["__scopeId","data-v-f0102f5f"]]);export{mt as default};
